(this.csbJsonP=this.csbJsonP||[]).push([[33],{"../../node_modules/@styled-system/css/dist/index.esm.js":function(e,t,n){"use strict";var r;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,r,o){for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e},i=[40,52,64].map(function(e){return e+"em"}),s={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},l={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},d={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},c=((r={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles"}).borderTopLeftRadius="radii",r.borderTopRightRadius="radii",r.borderBottomWidth="borderWidths",r.borderBottomColor="colors",r.borderBottomStyle="borderStyles",r.borderBottomLeftRadius="radii",r.borderBottomRightRadius="radii",r.borderLeftWidth="borderWidths",r.borderLeftColor="colors",r.borderLeftStyle="borderStyles",r.borderRightWidth="borderWidths",r.borderRightColor="colors",r.borderRightStyle="borderStyles",r.boxShadow="shadows",r.textShadow="shadows",r.zIndex="zIndices",r.width="sizes",r.minWidth="sizes",r.maxWidth="sizes",r.height="sizes",r.minHeight="sizes",r.maxHeight="sizes",r.flexBasis="sizes",r.size="sizes",r.fill="colors",r.stroke="colors",r),u=function(e,t){if("number"!==typeof t||t>=0)return a(e,t,t);var n=Math.abs(t),r=a(e,n,n);return"string"===typeof r?"-"+r:-1*r},m=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce(function(e,t){var n;return o({},e,((n={})[t]=u,n))},{});t.a=function e(t){return function(n){void 0===n&&(n={});var r=o({},s,{},n.theme||n),u={},p=function(e){return function(t){var n={},r=a(t,"breakpoints",i),o=[null].concat(r.map(function(e){return"@media screen and (min-width: "+e+")"}));for(var s in e){var l="function"===typeof e[s]?e[s](t):e[s];if(null!=l)if(Array.isArray(l))for(var d=0;d<l.slice(0,o.length).length;d++){var c=o[d];null!=l[d]&&(c?(n[c]=n[c]||{},n[c][s]=l[d]):n[s]=l[d])}else n[s]=l}return n}}("function"===typeof t?t(r):t)(r);for(var b in p){var g=p[b],h="function"===typeof g?g(r):g;if("variant"!==b)if(h&&"object"===typeof h)u[b]=e(h)(r);else{var f=a(l,b,b),y=a(c,f),x=a(r,y,a(r,f,{})),C=a(m,f,a)(x,h,h);if(d[f])for(var v=d[f],E=0;E<v.length;E++)u[v[E]]=C;else u[f]=C}else u=o({},u,{},e(a(r,h))(r))}return u}}},"../common/lib/design-language/theme.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("../common/lib/design-language/colors.js"),o=n("../common/lib/design-language/typography.js"),a={colors:r.colors,fontSizes:o.fontSizes,fontWeights:o.fontWeights,space:[0,4,8,12,16,20,24,28,32,36,40],speeds:[0,"75ms","100ms","150ms","200ms","300ms","500ms"],radii:{small:2,medium:4,large:16,round:"50%"},shadows:{active:"inset 0px -2px 0px ".concat(r.colors.blues[300]),underline:"inset 0px -2px 0px ".concat(r.colors.grays[100]+"1a"),fadeunder:"inset 0px 8px 8px 0px ".concat(r.colors.grays[700]+"cc")}};t.default=a},"../common/lib/design-language/typography.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fontWeights=t.fontSizes=void 0;t.fontSizes=[0,9,11,13,16];t.fontWeights={thin:100,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900}},"./src/app/pages/Pro/index.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/date-fns/esm/format/index.js"),o=n("../../node_modules/react-helmet/lib/Helmet.js"),a=n("../../node_modules/react/index.js"),i=n.n(a),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("../common/lib/components/flex/MaxWidth.js"),d=n.n(l),c=n("../common/lib/components/spacing/Margin.js"),u=n.n(c),m=n("../common/lib/components/flex/Centered.js"),p=n.n(m),b=n("./src/app/overmind/index.ts"),g=n("./src/app/pages/common/Navigation/index.tsx"),h=n("../common/lib/design-language/theme.js"),f=n.n(h),y=n("../../node_modules/@babel/runtime/helpers/slicedToArray.js"),x=n.n(y),C=n("../../node_modules/react-stripe-elements/es/index.js"),v=n("../common/lib/utils/config.js"),E=n("./src/app/hooks/index.ts"),S=n("../../node_modules/@babel/runtime/regenerator/index.js"),w=n.n(S),j=n("../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),_=n.n(j),k=n("../../node_modules/@babel/runtime/helpers/classCallCheck.js"),z=n.n(k),O=n("../../node_modules/@babel/runtime/helpers/createClass.js"),R=n.n(O),I=n("../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),T=n.n(I),B=n("../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),P=n.n(B),L=n("../../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),W=n.n(L),N=n("../../node_modules/@babel/runtime/helpers/inherits.js"),Y=n.n(N),A=n("../../node_modules/@babel/runtime/helpers/defineProperty.js"),D=n.n(A),H=n("../common/lib/utils/analytics/index.js"),M=n("../../node_modules/@styled-system/css/dist/index.esm.js"),F=n("./src/app/pages/common/SignInButton/index.tsx"),X=n("./src/app/components/LinkButton.tsx"),U=s.default.div.withConfig({displayName:"elements__Page",componentId:"sc-1h59exi-0"})(Object(M.a)({backgroundColor:"grays.800",color:"white",width:"100vw",minHeight:"100vh"})),G=s.default.div.withConfig({displayName:"elements__Content",componentId:"sc-1h59exi-1"})(Object(M.a)({marginTop:"100px"})),J=s.default.h1.withConfig({displayName:"elements__Heading",componentId:"sc-1h59exi-2"})(Object(M.a)({margin:0,textAlign:"center",fontSize:"32px"})),K=s.default.span.withConfig({displayName:"elements__SubHeading",componentId:"sc-1h59exi-3"})(Object(M.a)({color:"grays.300",fontSize:4,display:"block",textAlign:"center",marginBottom:10})),$=s.default.form.withConfig({displayName:"elements__Form",componentId:"sc-1h59exi-4"})(function(e){return Object(M.a)({fontSize:3,width:300,margin:"auto",input:{fontSize:3,height:32,width:"100%"},transition:"opacity",transitionDuration:function(e){return e.speeds[2]},opacity:e.disabled?.5:1})}),q=s.default.div.withConfig({displayName:"elements__FormField",componentId:"sc-1h59exi-5"})(Object(M.a)({minHeight:"88px",marginBottom:2})),Q=s.default.label.withConfig({displayName:"elements__Label",componentId:"sc-1h59exi-6"})(Object(M.a)({display:"block",lineHeight:1.6,marginBottom:2})),V=s.default.input.withConfig({displayName:"elements__Input",componentId:"sc-1h59exi-7"})(Object(M.a)({backgroundColor:"grays.700",border:"1px solid",borderColor:"grays.500",boxSizing:"border-box",color:"white",paddingX:4,borderRadius:"medium",transition:"border",transitionDuration:function(e){return e.speeds[2]},":hover":{backgroundColor:"grays.700",borderColor:"grays.600"},":focus":{outline:"none",backgroundColor:"grays.800",borderColor:"grays.300"}})),Z=s.default.button.withConfig({displayName:"elements__Button",componentId:"sc-1h59exi-8"})(Object(M.a)({display:"block",fontSize:4,lineHeight:"32px",width:"100%",minWidth:200,marginBottom:10,backgroundColor:"blues.600",color:"white",textDecoration:"none",textAlign:"center",border:"none",borderRadius:"medium",boxSizing:"border-box",cursor:"pointer",transition:"backgroundColor",transitionDuration:function(e){return e.speeds[2]},":hover":{backgroundColor:"blues.500"},":disabled":{backgroundColor:"blues.600",opacity:.5}})),ee=Z.withComponent("a"),te=s.default.p.withConfig({displayName:"elements__HelpText",componentId:"sc-1h59exi-9"})(Object(M.a)({color:"grays.400",textAlign:"center",b:{color:"white"},a:{color:"grays.300"}})),ne=Object(s.default)(X.a).withConfig({displayName:"elements__LinkButton",componentId:"sc-1h59exi-10"})(Object(M.a)({color:"grays.300"})),re=s.default.div.withConfig({displayName:"elements__CardContainer",componentId:"sc-1h59exi-11"})(Object(M.a)({".StripeElement":{backgroundColor:"grays.700",border:"1px solid",borderColor:"grays.500",padding:2,boxSizing:"border-box",borderRadius:"medium",minHeight:32,":hover":{backgroundColor:"grays.700",borderColor:"grays.600"},"&.StripeElement--focus":{backgroundColor:"grays.800",borderColor:"grays.300"}}})),oe=s.default.div.withConfig({displayName:"elements__ErrorText",componentId:"sc-1h59exi-12"})(Object(M.a)({color:"reds.500",marginTop:2})),ae=s.default.div.withConfig({displayName:"elements__ModalBackdrop",componentId:"sc-1h59exi-13"})(Object(M.a)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"grays.700",opacity:.8})),ie=s.default.div.withConfig({displayName:"elements__SignInModal",componentId:"sc-1h59exi-14"})(Object(M.a)({width:400,position:"absolute",boxSizing:"border-box",top:"calc(50% - 150px)",left:"calc(50% - 200px)",backgroundColor:"grays.500",borderRadius:"medium",padding:10,textAlign:"center",zIndex:2,p:{fontSize:"20px",fontWeight:"medium",margin:0,marginBottom:4}})),se=Object(s.default)(F.a).withConfig({displayName:"elements__SignInButton",componentId:"sc-1h59exi-15"})(Object(M.a)({width:"100%",backgroundColor:"blues.600",borderColor:"blues.600",":hover":{backgroundColor:"blues.500",borderColor:"blues.500"},"> div":{justifyContent:"center"}})),le=s.default.img.withConfig({displayName:"elements__Avatar",componentId:"sc-1h59exi-16"})(Object(M.a)({width:100,height:100,border:"1px solid",borderColor:"grays.500",borderRadius:"medium"})),de={pro:"blues.700",patron:"green"},ce=s.default.span.withConfig({displayName:"elements__Badge",componentId:"sc-1h59exi-17"})(function(e){return Object(M.a)({backgroundColor:de[e.type],color:"pro"===e.type?"white":"grays.800",paddingY:1,paddingX:2,fontWeight:"bold",fontSize:3,textTransform:"capitalize",position:"relative",top:-20,right:"pro"===e.type?-40:-30,border:"1px solid",borderColor:"grays.500",borderRadius:"medium"})}),ue=function(e){function t(){var e,n;z()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=T()(this,(e=P()(t)).call.apply(e,[this].concat(o))),D()(W()(n),"state",{errors:{},name:n.props.name||"",coupon:"",loading:!1}),D()(W()(n),"setName",function(e){e&&n.setState({errors:{},name:e.target.value})}),D()(W()(n),"setCoupon",function(e){e&&n.setState({errors:{},coupon:e.target.value})}),D()(W()(n),"handleSubmit",function(){var e=_()(w.a.mark(function e(t){var r,o,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.state.name){e.next=3;break}return e.abrupt("return",n.setState({errors:{name:"Please provide a name "}}));case 3:return n.setState({loading:!0,errors:{}}),e.next=6,n.props.stripe.createToken({name:n.state.name});case 6:if(r=e.sent,o=r.token,!(a=r.error)){e.next=11;break}return e.abrupt("return",n.setState({loading:!1,errors:{stripe:a.message}}));case 11:return e.prev=11,e.next=14,n.props.subscribe({token:o.id,coupon:n.state.coupon});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(11),Object(H.logError)(e.t0),e.abrupt("return",n.setState({loading:!1,errors:{stripe:e.t0.message}}));case 20:return e.abrupt("return",n.setState({loading:!1}));case 21:case"end":return e.stop()}},e,null,[[11,16]])}));return function(t){return e.apply(this,arguments)}}()),n}return Y()(t,e),R()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.name!==this.props.name&&this.setState({errors:{},name:e.name})}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.error,o=e.hasCoupon,a=void 0!==o&&o,s=e.disabled,l=this.state,d=l.errors,c=l.loading,u=t||c,m=d.stripe||n;return i.a.createElement($,{onSubmit:this.handleSubmit,disabled:s},i.a.createElement(q,null,i.a.createElement(Q,{htmlFor:"cardholder-name"},"Cardholder Name"),i.a.createElement(V,{id:"cardholder-name",value:this.state.name,onChange:this.setName,placeholder:"Please enter your name",disabled:s}),null!=d.name&&i.a.createElement(oe,null,d.name)),i.a.createElement(q,null,i.a.createElement(Q,{htmlFor:"card-number"},"Card"),i.a.createElement(re,null,i.a.createElement(C.CardElement,{id:"card-number",style:{base:{color:"white",fontWeight:"500"}},disabled:s})),null!=m&&i.a.createElement(oe,null,m)),a&&i.a.createElement(q,null,i.a.createElement(Q,{htmlFor:"coupon"},"Coupon"),i.a.createElement("div",null,i.a.createElement(V,{id:"coupon",value:this.state.coupon,onChange:this.setCoupon,placeholder:"Coupon or Discount Code",disabled:s}))),i.a.createElement(Z,{type:"submit",disabled:u||s,style:{marginTop:"1rem",width:300}},u?"Creating Subscription...":"Subscribe to Pro"),i.a.createElement(te,null,"You will be billed now and on the ",i.a.createElement("b",null,Object(r.a)(new Date,"do"))," of each month thereafter. You can cancel or change your subscription at any time."))}}]),t}(i.a.PureComponent),me=Object(C.injectStripe)(ue),pe=window,be=function(e){var t=e.name,n=e.subscribe,r=e.isLoading,o=void 0!==r&&r,a=e.error,s=e.hasCoupon,l=e.disabled,d=void 0!==l&&l,c=i.a.useState(null),u=x()(c,2),m=u[0],p=u[1],b=Object(E.a)("https://js.stripe.com/v3/"),g=x()(b,1)[0];return i.a.useEffect(function(){pe.Stripe&&p(pe.Stripe(v.STRIPE_API_KEY))},[g]),i.a.createElement(C.StripeProvider,{stripe:m},i.a.createElement(C.Elements,null,i.a.createElement(me,{subscribe:n,name:t,isLoading:o,error:a,hasCoupon:s,disabled:d})))},ge=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ae,null),i.a.createElement(ie,null,i.a.createElement("p",null,"Sign in to continue"),i.a.createElement(se,null)))},he=function(e){var t=e.user,n=e.modalOpened,o=e.cancelSubscriptionClicked;return i.a.createElement(d.a,{width:400},i.a.createElement(p.a,{horizontal:!0},i.a.createElement(le,{src:t.avatarUrl}),i.a.createElement(ce,{type:"pro"},"Pro"),i.a.createElement(J,null,"You're a Pro!"),i.a.createElement(ee,{href:"/s/",style:{marginTop:30}},"Create a sandbox"),i.a.createElement(te,null,"You will be billed on the"," ",i.a.createElement("b",null,Object(r.a)(new Date(t.subscription.since),"do"))," of each month. You can"," ",i.a.createElement(ne,{onClick:function(e){e.preventDefault(),n({modal:"preferences",itemId:"paymentInfo"})}},"update your payment details")," ","or"," ",i.a.createElement(ne,{onClick:function(e){e.preventDefault(),o()}},"cancel your subscription")," ","at any time.")))},fe=function(e){var t=e.user;return i.a.createElement(d.a,{width:400},i.a.createElement(p.a,{horizontal:!0},i.a.createElement(le,{src:t.avatarUrl}),i.a.createElement(ce,{type:"patron"},"Patron"),i.a.createElement(J,null,"You're a Pro!"),i.a.createElement(K,null,"Thank you for being an early supporter of CodeSandbox. As a patron, you can access all Pro features."),i.a.createElement(ee,{href:"/s/"},"Create a sandbox"),i.a.createElement(te,null,"You will be billed on the"," ",i.a.createElement("b",null,Object(r.a)(new Date(t.subscription.since),"do"))," of each month. You can ",i.a.createElement("a",{href:"/patron"},"modify your contribution")," at any time.")))},ye=function(e){var t=e.createSubscriptionClicked,n=e.user,r=e.patron,o=e.checkoutDisabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement(J,null,"CodeSandbox Pro"),i.a.createElement(K,null,"$12/month"),i.a.createElement(p.a,{horizontal:!0},i.a.createElement(be,{subscribe:function(e){var n=e.token,r=e.coupon;return t({token:n,coupon:r})},isLoading:r.isUpdatingSubscription,hasCoupon:!0,name:n&&n.name,error:r.error,disabled:o})))},xe=function(e){var t=e.user,n=e.updateSubscriptionClicked,o=e.isUpdatingSubscription;return i.a.createElement(d.a,{width:500},i.a.createElement(p.a,{horizontal:!0},i.a.createElement(le,{src:t.avatarUrl}),i.a.createElement(ce,{type:"pro",style:{opacity:.8}},"Pro"),i.a.createElement(J,null,"Your subscription is expiring"),i.a.createElement(te,null,"Your subscription will be automatically cancelled on your next billing date (",Object(r.a)(new Date(t.subscription.since),"do MMM"),"). All your private sandboxes will remain available and private."),o?i.a.createElement(Z,{disabled:!0,style:{marginTop:30}},"Creating subscription..."):i.a.createElement(Z,{onClick:n,style:{marginTop:30}},"Reactivate subscription")))};t.default=function(){var e=Object(b.c)(),t=e.state,n=t.hasLoadedApp,r=t.isLoggedIn,l=t.user,c=t.patron,m=e.actions,p=m.modalOpened,h=m.patron,y=h.priceChanged,x=h.createSubscriptionClicked,C=h.cancelSubscriptionClicked,v=h.updateSubscriptionClicked,E=h.patronMounted,S=!n||!r;y({price:12}),Object(a.useEffect)(function(){E()},[E]);return i.a.createElement(s.ThemeProvider,{theme:f.a},i.a.createElement(U,null,i.a.createElement(o.Helmet,null,i.a.createElement("title",null,"Pro - CodeSandbox")),i.a.createElement(u.a,{vertical:1.5,horizontal:1.5},i.a.createElement(g.a,{title:"CodeSandbox Pro"}),i.a.createElement(d.a,{width:1024},i.a.createElement(G,null,n?r?l.subscription?"patron"===l.subscription.plan?i.a.createElement(fe,{user:l}):l.subscription.cancelAtPeriodEnd?i.a.createElement(xe,{user:l,updateSubscriptionClicked:v,isUpdatingSubscription:c.isUpdatingSubscription}):"pro"===l.subscription.plan?i.a.createElement(he,{user:l,modalOpened:p,cancelSubscriptionClicked:C}):null:i.a.createElement(ye,{createSubscriptionClicked:x,user:l,patron:c,checkoutDisabled:S}):i.a.createElement(ge,null):null)))))}}}]);
//# sourceMappingURL=page-pro.6f9e20cf.chunk.js.map