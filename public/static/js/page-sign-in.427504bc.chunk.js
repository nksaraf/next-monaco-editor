(this.csbJsonP=this.csbJsonP||[]).push([[36],{"./src/app/pages/Live/index.js":function(e,n,t){"use strict";t.r(n);var o=t("../../node_modules/@babel/runtime/helpers/classCallCheck.js"),r=t.n(o),i=t("../../node_modules/@babel/runtime/helpers/createClass.js"),a=t.n(i),s=t("../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=t.n(s),c=t("../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=t.n(c),u=t("../../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),d=t.n(u),p=t("../../node_modules/@babel/runtime/helpers/inherits.js"),g=t.n(p),h=t("../../node_modules/@babel/runtime/helpers/defineProperty.js"),f=t.n(h),b=t("../common/lib/components/flex/Centered.js"),v=t.n(b),j=t("../common/lib/components/flex/Fullscreen.js"),w=t.n(j),y=t("../common/lib/components/spacing/Padding.js"),x=t.n(y),E=t("../common/lib/utils/get-sandbox-name.js"),_=t("./src/app/componentConnectors.ts"),S=t("./src/app/components/Skeleton.tsx"),C=t("./src/app/components/SubTitle.ts"),I=t("./src/app/components/Title.ts"),k=t("./src/app/pages/common/Navigation/index.tsx"),L=t("./src/app/pages/common/SignInButton/index.tsx"),z=t("./src/app/pages/Sandbox/QuickActions/index.tsx"),O=t("../../node_modules/store/dist/store.modern.js"),N=t.n(O);function P(){return!!N.a.get("jwt")}var T=t("../../node_modules/react/index.js"),U=t.n(T),A=t("../../node_modules/react-helmet/lib/Helmet.js"),F=t.n(A),M=t("../../node_modules/react-router-dom/esm/react-router-dom.js"),B=t("./src/app/pages/Sandbox/Editor/index.tsx"),R=t("../../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),D=t.n(R),W=t("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),H=t("../../node_modules/react-icons/lib/md/fiber-manual-record.js"),J=t.n(H);function q(){var e=D()(["\n  font-size: 4rem;\n  display: block;\n  color: rgb(253, 36, 57);\n\n  svg {\n    transition: 0.3s ease opacity;\n  }\n"]);return q=function(){return e},e}var Q=W.default.div.withConfig({displayName:"BlinkingDot__DotContainer",componentId:"sc-1vvx0bv-0"})(q()),Y=function(e){function n(){var e,t;r()(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=l()(this,(e=m()(n)).call.apply(e,[this].concat(i))),f()(d()(t),"state",{showing:!0}),t}return g()(n,e),a()(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.setState(function(e){return{showing:!e.showing}})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return U.a.createElement(Q,null,U.a.createElement(J.a,{style:{opacity:this.state.showing?1:0}}))}}]),n}(U.a.PureComponent),G=function(e){function n(){var e,t;r()(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=l()(this,(e=m()(n)).call.apply(e,[this].concat(i))),f()(d()(t),"loggedIn",t.props.store.hasLogIn),f()(d()(t),"initializeLive",function(){P()&&(t.loggedIn=!0,t.props.signals.live.roomJoined({roomId:t.props.match.params.id}))}),f()(d()(t),"getContent",function(){var e=t.props.store;return P()?e.live.error?"room not found"===e.live.error?T.createElement(T.Fragment,null,T.createElement("div",{style:{fontWeight:300,color:"rgba(255, 255, 255, 0.5)",marginBottom:"1rem",fontSize:"1.5rem"}},"Something went wrong"),T.createElement(I.a,{style:{fontSize:"1.25rem"}},"It seems like this session doesn","'","t exist or has been closed"),T.createElement("br",null),T.createElement(M.Link,{to:"/s"},"Create Sandbox")):T.createElement(T.Fragment,null,T.createElement(I.a,null,"An error occured while connecting to the live session:"),T.createElement(C.a,null,e.live.error),T.createElement("br",null),T.createElement("br",null),T.createElement(M.Link,{to:"/s"},"Create Sandbox")):e.editor.currentSandbox?null:T.createElement(T.Fragment,null,T.createElement(S.a,{titles:[{content:T.createElement(Y,null),delay:0},{content:"Joining Live Session...",delay:.5}]})):T.createElement(T.Fragment,null,T.createElement("div",{style:{fontWeight:300,color:"rgba(255, 255, 255, 0.5)",marginBottom:"1rem",fontSize:"1.5rem"}},"Sign in required"),T.createElement(I.a,{style:{fontSize:"1.25rem"}},"You need to sign in to join this session"),T.createElement("br",null),T.createElement("div",null,T.createElement(L.a,null)))}),t}return g()(n,e),a()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.initializeLive()}},{key:"disconnectLive",value:function(){this.props.store.live.isLive&&this.props.signals.live.onNavigateAway({})}},{key:"componentWillUnmount",value:function(){this.disconnectLive(),this.props.signals.editor.onNavigateAway({})}},{key:"componentDidUpdate",value:function(e){(e.match.params.id!==this.props.match.params.id||P()&&!this.loggedIn)&&(this.disconnectLive(),this.initializeLive())}},{key:"render",value:function(){var e=this.props,n=e.match,t=e.store;t.user;var o=this.getContent();if(o)return T.createElement(w.a,null,T.createElement(x.a,{style:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},margin:1},T.createElement(k.a,{title:"Live Session"}),T.createElement(v.a,{style:{flex:1,width:"100%",height:"100%"},horizontal:!0,vertical:!0},o)));var r=t.editor.currentSandbox;return T.createElement(T.Fragment,null,r&&T.createElement(F.a,null,T.createElement("title",null,Object(E.getSandboxName)(r)," - CodeSandbox")),T.createElement(B.a,{match:n}),T.createElement(z.a,null))}}]),n}(T.Component);n.default=Object(_.c)("signals","store")(Object(_.d)(G))},"./src/app/pages/SignIn/index.tsx":function(e,n,t){"use strict";t.r(n);var o=t("../../node_modules/react/index.js"),r=t.n(o),i=t("../../node_modules/react-router/esm/react-router.js"),a=t("./src/app/overmind/index.ts"),s=t("../common/lib/utils/url-generator.js"),l=t("../../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),c=t.n(l),m=t("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),u=t("../common/lib/components/Logo.js"),d=t.n(u);function p(){var e=c()(["\n  font-size: 1.5rem;\n  color: ",";\n  font-weight: 600;\n  margin-bottom: 2rem;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n"]);return p=function(){return e},e}function g(){var e=c()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  width: 300px;\n  margin: 0 auto;\n\n  padding: 4rem;\n  border-radius: 4px;\n  background-color: ",";\n"]);return g=function(){return e},e}function h(){var e=c()(["\n  margin-top: -110px;\n  margin-bottom: 30px;\n  color: white;\n\n  background-color: ",";\n  width: 75px;\n  height: 75px;\n\n  padding: 1rem;\n  border-radius: 8px;\n"]);return h=function(){return e},e}function f(){var e=c()(["\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n"]);return f=function(){return e},e}function b(){var e=c()(["\n  height: 100%;\n  width: 100%;\n\n  color: rgba(255, 255, 255, 0.8);\n"]);return b=function(){return e},e}var v=m.default.div.withConfig({displayName:"elements__Container",componentId:"i3wmjz-0"})(b()),j=m.default.div.withConfig({displayName:"elements__Centered",componentId:"i3wmjz-1"})(f()),w=Object(m.default)(d.a).withConfig({displayName:"elements__OffsettedLogo",componentId:"i3wmjz-2"})(h(),function(e){return e.theme.background4}),y=m.default.div.withConfig({displayName:"elements__LoggedInContainer",componentId:"i3wmjz-3"})(g(),function(e){return e.theme.background}),x=m.default.div.withConfig({displayName:"elements__LoggedInTitle",componentId:"i3wmjz-4"})(p(),function(e){return e.theme.new.title}),E=t("./src/app/pages/common/SignInButton/index.tsx"),_=t("./src/app/pages/common/Navigation/index.tsx");n.default=function(){var e=Object(a.c)(),n=e.state,t=e.actions.genericPageMounted,l=new URL(location.href).searchParams.get("continue")||"/";return Object(o.useEffect)(function(){t()},[t]),n.hasLogIn?r.a.createElement(i.c,{to:Object(s.dashboardUrl)()}):r.a.createElement("div",null,r.a.createElement(_.a,{float:!0,title:"Sign In"}),r.a.createElement(v,null,r.a.createElement(j,null,r.a.createElement(y,null,r.a.createElement(w,null),r.a.createElement(x,null,"Sign in to CodeSandbox"),r.a.createElement(E.a,{redirectTo:l,big:!0,style:{fontSize:"1rem"}})))))}},"./src/app/pages/SignInAuth/index.js":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return E});var o=t("../../node_modules/@babel/runtime/helpers/classCallCheck.js"),r=t.n(o),i=t("../../node_modules/@babel/runtime/helpers/createClass.js"),a=t.n(i),s=t("../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=t.n(s),c=t("../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=t.n(c),u=t("../../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),d=t.n(u),p=t("../../node_modules/@babel/runtime/helpers/inherits.js"),g=t.n(p),h=t("../../node_modules/@babel/runtime/helpers/defineProperty.js"),f=t.n(h),b=t("../../node_modules/react/index.js"),v=t.n(b),j=t("../common/lib/components/flex/Centered.js"),w=t.n(j),y=t("../common/lib/utils/url-generator.js"),x=t("./src/app/components/Title.ts"),E=function(e){function n(e){var t;return r()(this,n),t=l()(this,m()(n).call(this,e)),f()(d()(t),"getMessage",function(){return t.state.redirect?(document.location.href=Object(y.newSandboxUrl)(),"Redirecting to sandbox page"):t.state.error?"Something went wrong while signing in: ".concat(t.state.error):t.state.jwt?"Signing in...":null==t.state.jwt?(setTimeout(function(){document.location.href=Object(y.signInUrl)()},2e3),"Redirecting to sign in page..."):"Hey"}),e.match.params.jwt?window.opener?(t.state={jwt:e.match.params.jwt},window.opener.location.origin===window.location.origin&&window.opener.postMessage({type:"signin",data:{jwt:e.match.params.jwt}},Object(y.protocolAndHost)()),l()(t)):(t.state={redirect:"/"},l()(t)):(t.state={error:"no message received"},t)}return g()(n,e),a()(n,[{key:"render",value:function(){return v.a.createElement(w.a,{horizontal:!0,vertical:!0},v.a.createElement(x.a,null,this.getMessage()))}}]),n}(v.a.PureComponent)}}]);
//# sourceMappingURL=page-sign-in.427504bc.chunk.js.map