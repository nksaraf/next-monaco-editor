{"componentChunkName":"component---src-templates-docs-js","path":"/docs/ci","webpackCompilationHash":"43a07f76784e304bf1a0","result":{"data":{"allDocs":{"edges":[{"node":{"fields":{"slug":"/","title":"Documentation"},"headings":[{"value":"What is CodeSandbox"},{"value":"Our Values"}]}},{"node":{"fields":{"slug":"/embedding","title":"Embedding"},"headings":[{"value":"What is an Embed?"},{"value":"Generate a URL"},{"value":"Embed on Medium"},{"value":"Embed Options"},{"value":"Example Embeds"}]}},{"node":{"fields":{"slug":"/git","title":"Git Committing and PRs"},"headings":[{"value":"Base Concept"},{"value":"Committing and Opening PRs"},{"value":"Creating a Repository"}]}},{"node":{"fields":{"slug":"/importing","title":"Importing Sandboxes"},"headings":[{"value":"Create Wizard"},{"value":"Import from GitHub"},{"value":"Export with CLI"},{"value":"Define API"},{"value":"Import single Component as a Sandbox"},{"value":"Import Using React-Codesandboxer"}]}},{"node":{"fields":{"slug":"/live","title":"Collaboration with Live"},"headings":[{"value":"What is Live"},{"value":"Demo"},{"value":"Going Live"},{"value":"Classroom Mode"}]}},{"node":{"fields":{"slug":"/teams","title":"Teams"},"headings":[{"value":"Creating a Team"},{"value":"Inviting Team Members"},{"value":"Sharing Sandboxes"},{"value":"Collaborating on Sandboxes"}]}},{"node":{"fields":{"slug":"/tests","title":"Jest Tests"},"headings":[{"value":"What is Jest"},{"value":"How to use Jest in CodeSandbox Client Sandboxes"},{"value":"Test Failures"},{"value":"Test Example"}]}},{"node":{"fields":{"slug":"/configuration","title":"Configuration"},"headings":[{"value":"Configuration Files"},{"value":"Configuration UI"},{"value":"Sandbox Configuration"}]}},{"node":{"fields":{"slug":"/deployment","title":"Deploying your Sandbox"},"headings":[{"value":"What Sandboxes Can be Deployed?"},{"value":"ZEIT"},{"value":"Netlify"},{"value":"UI"}]}},{"node":{"fields":{"slug":"/uploading","title":"Uploading Static Files"},"headings":[{"value":"Static File Uploading"},{"value":"Ways to upload"},{"value":"Storage Management"},{"value":"CLI Integration"}]}},{"node":{"fields":{"slug":"/explore","title":"Explore Page & Curators"},"headings":[{"value":"Explore Page"},{"value":"What is a curator"},{"value":"Which sandboxes get picked"},{"value":"How can I get picked"}]}},{"node":{"fields":{"slug":"/secrets","title":"Secrets"},"headings":[{"value":"What are secrets?"},{"value":"Adding secrets in CodeSandbox"},{"value":"Editing secrets in CodeSandbox"}]}},{"node":{"fields":{"slug":"/templates","title":"Templates"},"headings":[{"value":"What are Templates?"},{"value":"How to make a custom template"},{"value":"Using Templates"},{"value":"Editing Templates"},{"value":"Deleting Templates"}]}},{"node":{"fields":{"slug":"/environment","title":"Environment"},"headings":[{"value":"What is an Environment?"},{"value":"Client Environments"},{"value":"Container Environment"}]}},{"node":{"fields":{"slug":"/ci","title":"CI"},"headings":[{"value":"What is CodeSandbox CI?"},{"value":"Why do I want this?"},{"value":"How does it work?"},{"value":"How do I set this up?"},{"value":"Configuration"}]}}]},"doc":{"fields":{"description":"Here's what CodeSandbox CI is, how it will benefit you as a library maintainer, and how to set it up for your library.","editLink":"https://github.com/codesandbox/codesandbox-client/edit/master/packages/homepage/content/docs/8-ci.md","title":"CI"},"html":"<section>\n<h2 id=\"what-is-codesandbox-ci\"><a href=\"#what-is-codesandbox-ci\" aria-label=\"what is codesandbox ci permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is CodeSandbox CI?</h2>\n<p>CodeSandbox CI is a <a href=\"https://github.com/apps/codesandbox\">GitHub app</a> that you\ncan install in your repository. The app is responsible for building your\nlibrary. Whenever a Pull Request is opened it builds a version of the library\nfrom that PR. This is published to our registry, so you can immediately test the\nlibrary in CodeSandbox or locally without publishing to npm or elsewhere.</p>\n</section>\n<section>\n<h2 id=\"why-do-i-want-this\"><a href=\"#why-do-i-want-this\" aria-label=\"why do i want this permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why do I want this?</h2>\n<p>The goal of this app is to make it easier for you to test your library without\npublishing to npm yet. Since CodeSandbox is already used for bug reports we\nwanted to make it possible to also test the PR version of your library with the\nexisting bug reports.</p>\n</section>\n<section>\n<h2 id=\"how-does-it-work\"><a href=\"#how-does-it-work\" aria-label=\"how does it work permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How does it work?</h2>\n<p>A typical workflow might look like this:</p>\n<ul>\n<li>Someone opens an issue for a bug with a sandbox reproducible</li>\n<li>Someone opens a fix PR mentioning the issue</li>\n<li>We build the library from the PR, fork the sandbox repro and install the new\nlibrary in that sandbox. This way you will only have to open the generated\nsandbox to confirm that the fix works with no need to clone, install or test\nlocally.</li>\n</ul>\n</section>\n<section>\n<h2 id=\"how-do-i-set-this-up\"><a href=\"#how-do-i-set-this-up\" aria-label=\"how do i set this up permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How do I set this up?</h2>\n<p>For most libraries, the only thing you need to do is install this\n<a href=\"https://github.com/apps/codesandbox\">GitHub App</a>. In some cases you might need\nto do some configuration, an example of this is for monorepos. You can configure\nyour library by creating a file called <code class=\"language-text\">ci.json</code> in a folder called\n<code class=\"language-text\">.codesandbox</code> (<code class=\"language-text\">.codesandbox/ci.json</code>) in the root of your repo. An example PR\ncan be found <a href=\"https://github.com/facebook/react/pull/17175\">here</a>.</p>\n</section>\n<section>\n<h2 id=\"configuration\"><a href=\"#configuration\" aria-label=\"configuration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h2>\n<p>You can configure how your projects build on CodeSandbox CI by creating a file\ncalled <code class=\"language-text\">ci.json</code> in a folder called <code class=\"language-text\">.codesandbox</code> in the root of your\nrepository.</p>\n<h3 id=\"configuration-format\"><a href=\"#configuration-format\" aria-label=\"configuration format permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration Format</h3>\n<p>These are all the configuration options you can set. They are all optional.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// which script in package.json to run to install instead of `npm ci` or `yarn install`,</span>\n  <span class=\"token comment\">// can be `false` if you want to skip this step</span>\n  <span class=\"token property\">\"installCommand\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"install\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// which script in package.json to run to build,</span>\n  <span class=\"token comment\">// can be `false` if you want to skip this step</span>\n  <span class=\"token property\">\"buildCommand\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// if you have a monorepo, put the paths of the packages here. We'll infer the package names.</span>\n  <span class=\"token comment\">// globs are supported</span>\n  <span class=\"token property\">\"packages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"packages/react\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"packages/react-dom\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// if you don't publish from the package directory, specify per dependency</span>\n  <span class=\"token comment\">// where the contents of the built dependency are. These files will be uploaded</span>\n  <span class=\"token comment\">// to our registry</span>\n  <span class=\"token property\">\"publishDirectory\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build/node_modules/react\"</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build/node_modules/react-dom\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// a list of sandboxes that you want generated for a PR, if this list</span>\n  <span class=\"token comment\">// is not set we will default to `vanilla`. The built library will automatically</span>\n  <span class=\"token comment\">// be installed in the fork of these sandboxes in the place of the library. So if</span>\n  <span class=\"token comment\">// you have a sandbox with `lodash`, and you built `lodash` and `vue`, we will only</span>\n  <span class=\"token comment\">// replace `lodash` with the built version.</span>\n  <span class=\"token comment\">// You can also set absolute paths to a directory in your repository. We will make sure</span>\n  <span class=\"token comment\">// to generate a sandbox from the contents of that directory.</span>\n  <span class=\"token property\">\"sandboxes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"vanilla\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"new\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/examples/todomvc\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h3 id=\"monorepo-example\"><a href=\"#monorepo-example\" aria-label=\"monorepo example permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Monorepo Example</h3>\n<p>Monorepos are quite common, here's an example configuration for a monorepo:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"packages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"packages/vue-template-compiler\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>This builds two libraries: <code class=\"language-text\">vue</code>, which is in the root of the repository, and\n<code class=\"language-text\">vue-template-compiler</code>, which resides in the <code class=\"language-text\">packages</code> folder.</p>\n<p>We automatically infer your packages from your lerna config or yarn workspaces\nconfig if <code class=\"language-text\">packages</code> is not set.</p>\n<p>We handle auto linking of these dependencies, this means that we rewrite the\ndependencies to the newly built versions of CodeSandbox CI. In this example,\n<code class=\"language-text\">vue</code> uses <code class=\"language-text\">vue-template-compiler</code>, so we've updated <code class=\"language-text\">package.json</code> of <code class=\"language-text\">vue</code> to\npoint to our built <code class=\"language-text\">vue-template-compiler</code>.</p>\n</section>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ci"}}}